---
description: Progressive verification and quality assurance throughout development
globs:
alwaysApply: false
---
# Rule: Rigour Vibe Progress Verification

## Goal

To continuously verify progress, maintain quality standards, and ensure all previous functionality remains intact as development progresses. This prevents regression and maintains confidence in the codebase while tracking progress through organized documentation.

## Verification Triggers

### After Each Task Completion
Run verification automatically after marking any task complete:
- [ ] All tests for current task pass
- [ ] Full regression test suite passes
- [ ] Code quality checks pass
- [ ] Integration points verified

### Before Major Quality Gates
Before proceeding past any quality gate:
- [ ] Comprehensive test suite review
- [ ] Performance regression check
- [ ] Security consideration review
- [ ] Documentation completeness
- [ ] **Project structure validation** - All files in correct directories
- [ ] **Environment configuration check** - All configs in environment/
- [ ] **Script organization verification** - All scripts in scripts/

### On Request
When user asks for verification or status check:
- [ ] Current progress summary
- [ ] Test suite health report
- [ ] Risk assessment update
- [ ] Next steps recommendation

## Verification Procedures

### 1. Project Structure Verification
```bash
# Verify directory structure exists
echo "ğŸ“ Verifying Project Structure..."
ls -la src/ tests/ directives/ environment/ scripts/ docs/ build/ config/ 2>/dev/null || echo "Missing directories detected"

# Check file organization
echo "ğŸ“‹ Checking File Organization..."
find src/ -name "*.ts" -o -name "*.js" -o -name "*.tsx" -o -name "*.jsx" 2>/dev/null | head -5
find tests/ -name "*.test.*" -o -name "*.spec.*" 2>/dev/null | head -5
find directives/ -name "*.md" 2>/dev/null | head -5
```

### 2. Test Suite Verification
```bash
# Full test suite execution
echo "ğŸ§ª Running Full Test Suite..."
npm test --coverage

# Integration test verification
echo "ğŸ”— Verifying Integration Points..."
npm run test:integration

# End-to-end verification (if applicable)
echo "ğŸ¯ Running E2E Tests..."
npm run test:e2e

# Performance regression check
echo "âš¡ Checking Performance..."
npm run test:performance
```

### 2. Code Quality Verification
```bash
# Linting check
echo "ğŸ“ Code Quality Check..."
npm run lint

# Type safety verification
echo "ğŸ” Type Checking..."
npm run type-check

# Security audit
echo "ğŸ”’ Security Audit..."
npm audit --audit-level=moderate

# Format verification
echo "âœ¨ Format Check..."
npm run format:check
```

### 3. Regression Detection
```bash
# Compare test results with baseline
echo "ğŸ” Regression Detection..."
git diff HEAD~1 --name-only | grep -E '\.(test|spec)\.' || echo "No test files changed"

# Run tests on changed files only (for speed)
echo "âš¡ Quick Regression Check..."
npm test --changedSince=HEAD~1
```

## Progress Reporting

### Status Report Format
```markdown
## Rigour Vibe Progress Report

### Overall Progress
- **Tasks Completed:** [X] of [Y] ([Z]%)
- **Current Quality Gate:** [Gate Name]
- **Risk Level:** [Low/Medium/High]
- **Estimated Completion:** [Timeline]

### File Organization Status
- **PRD Files:** ../directives/prd/[list files]
- **Task Files:** ../directives/tasks/[list files]
- **Test Files:** ../directives/tests/[count] files
- **Summary Files:** ../directives/summaries/[count] files

### Test Suite Health
- **Total Tests:** [Number]
- **Passing:** [Number] âœ…
- **Failing:** [Number] âŒ
- **Coverage:** [Percentage]%
- **Performance:** [Within/Outside] acceptable range

### Recent Completions
- [x] Task X.Y: [Description] - âœ… All tests passing
- [x] Task X.Z: [Description] - âœ… All tests passing

### Current Focus
- [ ] Task A.B: [Description] - ğŸ”„ In progress
  - Tests written: âœ…
  - Implementation: ğŸ”„ [Progress description]
  - Verification: â³ Pending

### Quality Gates Status
- [x] Gate 1: Core Functionality âœ…
- [ ] Gate 2: Feature Complete â³
- [ ] Gate 3: Release Ready â³

### Risk Assessment
**ğŸŸ¢ Low Risk:**
- [Items that are solid and unlikely to cause issues]

**ğŸŸ¡ Medium Risk:**
- [Items that need attention but aren't blocking]

**ğŸ”´ High Risk:**
- [Items that could cause significant problems]

### Next Steps
1. [Immediate next action]
2. [Following action]
3. [Future consideration]
```

### Test Results Summary
```markdown
### Test Results Summary

#### Unit Tests
- **Files:** [Number] test files
- **Tests:** [Number] total tests
- **Status:** [All Passing/Some Failing]
- **Coverage:** [Percentage]%

#### Integration Tests
- **Workflows:** [Number] tested
- **Status:** [All Passing/Some Failing]
- **Critical Paths:** [Status of key workflows]

#### Quality Metrics
- **Code Quality Score:** [Score/Rating]
- **Performance:** [Benchmark results]
- **Security:** [Audit results]
```

## Quality Gate Verification

### Gate 1: Core Functionality âœ…
**Verification Criteria:**
- [ ] All core task tests passing
- [ ] Basic integration verified
- [ ] No critical failures
- [ ] Performance baseline established

**Verification Commands:**
```bash
# Run core functionality tests
npm test -- --testNamePattern="core|basic|fundamental"

# Verify critical paths
npm run test:critical-path

# Performance baseline
npm run benchmark:baseline
```

### Gate 2: Feature Complete âœ…
**Verification Criteria:**
- [ ] All feature tasks completed
- [ ] Full test coverage achieved
- [ ] Integration tests passing
- [ ] Documentation updated
- [ ] Error handling verified

**Verification Commands:**
```bash
# Full feature test suite
npm test

# Coverage report
npm run coverage:report

# Integration verification
npm run test:integration

# Documentation check
npm run docs:verify
```

### Gate 3: Release Ready âœ…
**Verification Criteria:**
- [ ] Complete test suite passing
- [ ] End-to-end scenarios verified
- [ ] Performance benchmarks met
- [ ] Security requirements satisfied
- [ ] Monitoring in place
- [ ] Rollback procedures tested

**Verification Commands:**
```bash
# Full release verification
npm run test:release

# End-to-end verification
npm run test:e2e

# Performance verification
npm run test:performance

# Security scan
npm run security:scan

# Pre-deployment check
npm run verify:deployment
```

## Regression Prevention

### Continuous Monitoring
- **Test Suite Health:** Track test pass rate over time
- **Performance Metrics:** Monitor for performance regressions
- **Coverage Trends:** Ensure coverage doesn't decrease
- **Quality Metrics:** Track code quality scores

### Automated Checks
```bash
# Pre-commit verification
npm run verify:pre-commit

# Post-implementation verification
npm run verify:post-task

# Quality gate verification
npm run verify:quality-gate
```

### Manual Verification Points
When automated tests aren't sufficient:
- [ ] User workflow testing
- [ ] Visual regression testing
- [ ] Performance profiling
- [ ] Security review
- [ ] Documentation accuracy

## AI Instructions

### When to Run Verification
1. **After each task completion** - Automatically verify
2. **Before quality gates** - Comprehensive verification
3. **When requested** - Provide detailed status
4. **When issues detected** - Deep diagnostic verification

### Verification Response Format
```
ğŸ” RIGOUR VIBE VERIFICATION REPORT

ğŸ“Š Progress: [X/Y tasks complete] ([Z]%)
ğŸ§ª Tests: [Passing/Total] ([Coverage]%)
ğŸ“ Structure: [Organized/Needs Attention]
âš¡ Performance: [Status]
ğŸ”’ Security: [Status]
ğŸ“‹ Quality: [Score/Rating]

ğŸŸ¢ All Clear: [What's working well]
ğŸŸ¡ Attention Needed: [What needs monitoring]
ğŸ”´ Action Required: [What must be fixed]

â¡ï¸ Next Action: [Specific recommendation]
```

### Regression Response Protocol
If regressions detected:
1. **STOP all implementation**
2. **Report regression details**
3. **Identify root cause**
4. **Propose fix strategy**
5. **Wait for guidance before proceeding**

### Quality Gate Response
When approaching quality gates:
1. **Pre-gate verification**
2. **Report gate readiness**
3. **Highlight any concerns**
4. **Recommend go/no-go**
5. **Wait for approval to proceed**
